
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://ethyca.github.io/fidesops/deployment/">
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.2.5">
    
    
      
        <title>Deployment Guide - Fidesops</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"Source Sans Pro";--md-code-font-family:""}</style>
      
    
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    
      <link rel="stylesheet" href="../css/fides.css">
    
      <link rel="stylesheet" href="../css/api.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Fidesops" class="md-header__button md-logo" aria-label="Fidesops" data-md-component="logo">
      
  <img src="../img/fides-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fidesops
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment Guide
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Fidesops" class="md-nav__button md-logo" aria-label="Fidesops" data-md-component="logo">
      
  <img src="../img/fides-logo.svg" alt="logo">

    </a>
    Fidesops
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        What is Fidesops?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../use_cases/" class="md-nav__link">
        Use Cases
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Tutorial
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        Zero to Privacy Request
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/installation/" class="md-nav__link">
        Installing Fidesops
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/outline/" class="md-nav__link">
        Outlining our Python Script
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/oauth_client/" class="md-nav__link">
        Creating an Oauth Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/postgres_connection/" class="md-nav__link">
        Connecting to Postgres
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/annotate_datasets/" class="md-nav__link">
        Annotating our Database
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/storage_config/" class="md-nav__link">
        Configuring our Storage Destination
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/define_policy/" class="md-nav__link">
        Defining a Policy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/execute_privacy_request/" class="md-nav__link">
        Executing a Privacy Request
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        How-To Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How-To Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How-To Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/oauth/" class="md-nav__link">
        Authenticate with OAuth
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/database_connectors/" class="md-nav__link">
        Connect SQL and NoSQL Databases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/datasets/" class="md-nav__link">
        Configure Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/query_execution/" class="md-nav__link">
        Preview Query Execution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/policies/" class="md-nav__link">
        Create Request Policies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/masking_strategies/" class="md-nav__link">
        Configure Data Masking Strategies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/storage/" class="md-nav__link">
        Configure Storage Destinations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/privacy_requests/" class="md-nav__link">
        Execute Privacy Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/reporting/" class="md-nav__link">
        Report on Privacy Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/onetrust/" class="md-nav__link">
        Configure OneTrust Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guides/configuration_reference/" class="md-nav__link">
        Configuration Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Deployment Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Deployment Guide
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-hosted-database" class="md-nav__link">
    Step 1: Setup Hosted Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-hosted-cache" class="md-nav__link">
    Step 2: Setup Hosted Cache
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-setup-fidesops-web-server" class="md-nav__link">
    Step 3: Setup fidesops Web Server
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Setup fidesops Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-install-fidesops-via-docker" class="md-nav__link">
    Option 1: Install fidesops via Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-install-fidesops-via-python" class="md-nav__link">
    Option 2: Install fidesops via Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-web-server" class="md-nav__link">
    Test the Web Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/code_style/" class="md-nav__link">
        Code Style
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/pull_requests/" class="md-nav__link">
        Pull Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Community
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../community/github/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../community/code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ethyca/" class="md-nav__link">
        About Ethyca
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-hosted-database" class="md-nav__link">
    Step 1: Setup Hosted Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-hosted-cache" class="md-nav__link">
    Step 2: Setup Hosted Cache
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-setup-fidesops-web-server" class="md-nav__link">
    Step 3: Setup fidesops Web Server
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Setup fidesops Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-install-fidesops-via-docker" class="md-nav__link">
    Option 1: Install fidesops via Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-install-fidesops-via-python" class="md-nav__link">
    Option 2: Install fidesops via Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-web-server" class="md-nav__link">
    Test the Web Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="deployment-guide">Deployment Guide</h1>
<p>To quickly experiment with <code>fidesops</code>, it's easiest to clone the source repo and use the built-in docker compose configuration to get a fully working demo environment up and running. However, when you want to use <code>fidesops</code> in production, you'll want to deploy it in parts, leveraging whatever cloud infrastructure your organization is most familiar with.</p>
<p>Fully deployed, <code>fidesops</code> has three individual systems you'll need to run:</p>
<ol>
<li><a href="#step-1-setup-hosted-database"><strong>Hosted Database</strong></a>: PostgreSQL database server used for permanent storage of configuration data for the web server</li>
<li><a href="#step-2-setup-hosted-cache"><strong>Hosted Cache</strong></a>: Redis database server used as a temporary cache during execution and scheduling of tasks</li>
<li><a href="#step-3-setup-fidesops-web-server"><strong>fidesops Web Server</strong></a>: Main application with API endpoints to configure, execute, and report on privacy requests</li>
</ol>
<p><img alt="Deployment Diagram" src="../img/Deployment_Diagram.svg" /></p>
<p>Let's review each individually.</p>
<h2 id="step-1-setup-hosted-database">Step 1: Setup Hosted Database</h2>
<p>Like most web applications, <code>fidesops</code> uses an application database for persistent storage. Any hosted PostgreSQL database solution will work (PostgreSQL version 12+), as long as it's accessible. Good options include:</p>
<ul>
<li>Managed PostgreSQL database services (e.g. AWS RDS, GCP Cloud SQL, Azure Database)</li>
<li>Self-hosted PostgreSQL Docker container with a persistent volume mount (e.g. on a Kubernetes cluster)</li>
<li>Self-hosted PostgreSQL server (e.g. on an EC2 server)</li>
</ul>
<p>NOTE: there <em>is no reason to expose this database to the public Internet</em> as long as it is will be accessible by your <code>fidesops</code> web server!</p>
<p>Setting up a production-grade PostgreSQL database is likely something your team is already familiar with, so we won't revisit that here. Once it's up and running, make sure you create a unique user and database to use for <code>fidesops</code> (we recommended calling these both <code>fidesops</code>) and assign a secure password, then keep track of all those credentials. You'll need those values later to populate these configuration variables for <code>fidesops</code>:</p>
<table>
<thead>
<tr>
<th>Config Variable</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FIDESOPS__DATABASE__SERVER</code></td>
<td>postgres.internal</td>
<td>hostname for your database server</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__USER</code></td>
<td>fidesops</td>
<td>username <code>fidesops</code> should use to access the database</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__PASSWORD</code></td>
<td>fidesopssecret</td>
<td>password <code>fidesops</code> should use to access the database</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__DB</code></td>
<td>fidesops</td>
<td>database name</td>
</tr>
</tbody>
</table>
<h2 id="step-2-setup-hosted-cache">Step 2: Setup Hosted Cache</h2>
<p>During privacy request execution, <code>fidesops</code> collects result data in a temporary Redis cache that automatically expires to ensure personal data is never retained erroneously. Any hosted Redis database will work for this purpose (Redis version 6.2.0+), from a simple Docker <a href="https://hub.docker.com/_/redis">redis</a> container to a managed service (e.g. AWS ElastiCache, GCP Memorystore, Azure Cache, Redis Cloud).</p>
<p>NOTE: Similar to PostgreSQL, there <em>is no reason to expose this cache to the public Internet</em> as long as it is will be accessible by your <code>fidesops</code> web server!</p>
<p>As with the PostgreSQL deployment, setting up a production-grade Redis cache is outside the scope of these docs. Once your Redis cache is available, ensure you enable a password (via Redis <a href="https://redis.io/commands/auth"><code>AUTH</code></a>) to provide additional security, and then keep track of all the connection credentials as you'll need these to configure <code>fidesops</code> in the next step with the following variables:</p>
<table>
<thead>
<tr>
<th>Config Variable</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FIDESOPS__REDIS__HOST</code></td>
<td>redis.internal</td>
<td>hostname for your Redis server</td>
</tr>
<tr>
<td><code>FIDESOPS__REDIS__PORT</code></td>
<td>6379</td>
<td>port for your Redis server</td>
</tr>
<tr>
<td><code>FIDESOPS__REDIS__PASSWORD</code></td>
<td>fidesopssecret</td>
<td>password <code>fidesops</code> should use to access Redis</td>
</tr>
</tbody>
</table>
<h2 id="step-3-setup-fidesops-web-server">Step 3: Setup fidesops Web Server</h2>
<p>The <code>fidesops</code> web server is a <a href="https://fastapi.tiangolo.com/">FastAPI</a> application with a <a href="https://www.uvicorn.org/">Uvicorn</a> server to handle requests. The host requirements for the <code>fidesops</code> web server are pretty minimal:</p>
<ul>
<li>A general purpose web server (e.g. for AWS EC2, a <code>t2.small</code> should be plenty)</li>
<li>No persistent storage requirements (this is handled by the hosted database)</li>
<li>Docker version 20.10.8 or newer (if installing via Docker)</li>
<li>OR Python 3.8 or newer (if installing via Python)</li>
</ul>
<p>Depending on your preferences, you can install <code>fidesops</code> in one of two ways: <em>Docker</em> or <em>Python</em>.</p>
<h3 id="option-1-install-fidesops-via-docker">Option 1: Install fidesops via Docker</h3>
<p>If you typically run your applications via Docker, you'll probably be familiar with pulling images and configuring them with environment variables. Setting up a <code>fidesops</code> container should contain no surprises.</p>
<p>First, ensure that Docker is running on your host, with a minimum version of <code>20.10.8</code>.</p>
<p>You can <code>docker pull ethyca/fidesops</code> to get the latest image from Ethyca's Docker Hub here: <a href="https://hub.docker.com/r/ethyca/fidesops">ethyca/fidesops</a>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker pull ethyca/fidesops
</code></pre></div>
</td></tr></table>
<p>Once pulled, you can run <code>docker run ethyca/fidesops</code> to start the server.</p>
<p>To configure <code>fidesops</code> for your environment, however, you'll need to provide a number of required environment variables through <code>docker run</code>. You can accomplish this either by creating a <code>.env</code> file and passing it in via the <a href="https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file"><code>--env-file {file}</code> option</a> or by providing individual variables with the <code>--env {VAR}</code> option. At a minimum, you'll need to provide the following as env variables:</p>
<table>
<thead>
<tr>
<th>Config Variable</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FIDESOPS__SECURITY__APP_ENCRYPTION_KEY</code></td>
<td>averyveryverysecretencryptionkey</td>
<td>AES256 encryption key used for DB &amp; JWE encryption, must be exactly 32 characters (256bits)</td>
</tr>
<tr>
<td><code>FIDESOPS__SECURITY__OAUTH_ROOT_CLIENT_ID</code></td>
<td>fidesopsadmin</td>
<td>client ID used for the "root" OAuth client</td>
</tr>
<tr>
<td><code>FIDESOPS__SECURITY__OAUTH_ROOT_CLIENT_SECRET</code></td>
<td>fidesopsadminsecret</td>
<td>client secret used for the "root" OAuth client</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__SERVER</code></td>
<td>postgres.internal</td>
<td>hostname for your database server</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__PORT</code></td>
<td>5432</td>
<td>port for your database server</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__USER</code></td>
<td>fidesops</td>
<td>username <code>fidesops</code> should use to access the database</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__PASSWORD</code></td>
<td>fidesopssecret</td>
<td>password <code>fidesops</code> should use to access the database</td>
</tr>
<tr>
<td><code>FIDESOPS__DATABASE__DB</code></td>
<td>fidesops</td>
<td>database name</td>
</tr>
<tr>
<td><code>FIDESOPS__REDIS__HOST</code></td>
<td>redis.internal</td>
<td>hostname for your Redis server</td>
</tr>
<tr>
<td><code>FIDESOPS__REDIS__PORT</code></td>
<td>6379</td>
<td>port for your Redis server</td>
</tr>
<tr>
<td><code>FIDESOPS__REDIS__PASSWORD</code></td>
<td>fidesopssecret</td>
<td>password <code>fidesops</code> should use to access Redis</td>
</tr>
</tbody>
</table>
<p>Lastly, you'll also want to ensure you use the <code>-p 8080:8080</code> option to <code>docker run</code> to bind port 8080 (the web server) to port 8080 on the host, so you can connect from the outside.</p>
<p>Putting this together:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker run \
  -p 8080:8080 \
  --env FIDESOPS__SECURITY__APP_ENCRYPTION_KEY=&quot;averyveryverysecretencryptionkey&quot; \
  --env FIDESOPS__SECURITY__OAUTH_ROOT_CLIENT_ID=&quot;fidesopsadmin&quot; \
  --env FIDESOPS__SECURITY__OAUTH_ROOT_CLIENT_SECRET=&quot;fidesopsadminsecret&quot; \
  --env FIDESOPS__DATABASE__SERVER=&quot;postgres.internal&quot; \
  --env FIDESOPS__DATABASE__PORT=&quot;5432&quot; \
  --env FIDESOPS__DATABASE__USER=&quot;fidesops&quot; \
  --env FIDESOPS__DATABASE__PASSWORD=&quot;fidesopssecret&quot; \
  --env FIDESOPS__DATABASE__DB=&quot;fidesops&quot; \
  --env FIDESOPS__REDIS__HOST=&quot;redis.internal&quot; \
  --env FIDESOPS__REDIS__PORT=6379 \
  --env FIDESOPS__REDIS__PASSWORD=&quot;fidesopssecret&quot; \
  ethyca/fidesops

INFO:fidesops.main:****************fidesops****************
INFO:fidesops.main:Running any pending DB migrations...
INFO:alembic.runtime.migration:Context impl PostgresqlImpl.
INFO:alembic.runtime.migration:Will assume transactional DDL.
INFO:fidesops.main:Starting scheduled request intake...
INFO:apscheduler.scheduler:Scheduler started
INFO:fidesops.main:Starting web server...
INFO:uvicorn.error:Started server process [1]
INFO:uvicorn.error:Waiting for application startup.
INFO:uvicorn.error:Application startup complete.
INFO:uvicorn.error:Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
</code></pre></div>
</td></tr></table>
<p>Or if you prefer to create your .env file and pass an <code>--env-file</code> variable, you can use the following: </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker run \
  -p 8080:8080 \
  --env-file=&lt;ENV FILE NAME&gt;.env \
  ethyca/fidesops
</code></pre></div>
</td></tr></table>
<p>Now, for most Docker hosts, you won't be calling <code>docker run</code> directly, and instead will be providing configuration variables to Kubernetes/Swarm/ECS/etc. As you can see in the <code>docker run</code> example above, this config is quite minimal and should just involve specifying (1) the image, (2) the port mapping, (3) all the various environment variables for configuration.</p>
<p>Note that there's no need for a persistent volume mount for the web server, it's fully ephemeral and relies on the database for all it's permanent state.</p>
<h3 id="option-2-install-fidesops-via-python">Option 2: Install fidesops via Python</h3>
<p>Releases of <code>fidesops</code> are published to PyPI here: <a href="https://pypi.org/project/fidesops/">fidesops</a>. Typically you'll setup a virtual environment and then run <code>pip install</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>pip install fidesops
</code></pre></div>
</td></tr></table>
<p>Once installed, you'll need a minimial config TOML file to specify the required config variables to run the server. Create a file called <code>fidesops.toml</code> in the working directory you'll run <code>fidesops</code> from using the following template, replacing the values as needed. For details on these config variables, refer to the table in <a href="#option-1-install-fidesops-via-docker">Option 1</a> above.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[database]</span>
<span class="n">SERVER</span><span class="o">=</span><span class="s">&quot;postgres.internal&quot;</span>
<span class="n">PORT</span><span class="o">=</span><span class="s">&quot;5432&quot;</span>
<span class="n">USER</span><span class="o">=</span><span class="s">&quot;fidesops&quot;</span>
<span class="n">PASSWORD</span><span class="o">=</span><span class="s">&quot;fidesopssecret&quot;</span>
<span class="n">DB</span><span class="o">=</span><span class="s">&quot;fidesops&quot;</span>

<span class="k">[redis]</span>
<span class="n">HOST</span><span class="o">=</span><span class="s">&quot;redis.internal&quot;</span>
<span class="n">PORT</span><span class="o">=</span><span class="s">&quot;6379&quot;</span>
<span class="n">PASSWORD</span><span class="o">=</span><span class="s">&quot;fidesopssecret&quot;</span>

<span class="k">[security]</span>
<span class="n">APP_ENCRYPTION_KEY</span><span class="o">=</span><span class="s">&quot;averyveryverysecretencryptionkey&quot;</span>
<span class="n">OAUTH_ROOT_CLIENT_ID</span><span class="o">=</span><span class="s">&quot;fidesopsadmin&quot;</span>
<span class="n">OAUTH_ROOT_CLIENT_SECRET</span><span class="o">=</span><span class="s">&quot;fidesopsadminsecret&quot;</span>
</code></pre></div>
</td></tr></table></p>
<p>Once installed, you can run <code>fidesops webserver</code> to start the server:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>fidesops webserver
INFO:fidesops.main:****************fidesops****************
INFO:fidesops.main:Running any pending DB migrations...
INFO:alembic.runtime.migration:Context impl PostgresqlImpl.
INFO:alembic.runtime.migration:Will assume transactional DDL.
INFO:fidesops.main:Starting scheduled request intake...
INFO:apscheduler.scheduler:Scheduler started
INFO:fidesops.main:Starting web server...
INFO:uvicorn.error:Started server process [37]
INFO:uvicorn.error:Waiting for application startup.
INFO:uvicorn.error:Application startup complete.
INFO:uvicorn.error:Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
</code></pre></div>
</td></tr></table>
<p>Ensure that you set up your web server to run this command on startup and map port 8080 as necessary in your firewall rules, etc. and you should be good to go!</p>
<h3 id="test-the-web-server">Test the Web Server</h3>
<p>To test that your server is running, visit <code>http://{server_url}/health</code> in your browser (e.g. http://0.0.0.0:8080/health) and you should see <code>{ "healthy": true }</code>.</p>
<p>You now have a functional <code>fidesops</code> server running! Now you can use the API to setup your OAuth clients, connect to databases, configure policies, execute privacy requests, etc. To learn more, head to the <a href="../guides/oauth/">How-To Guides</a> for details.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <nav
      class="md-footer__inner md-grid"
      aria-label="Footer"
    >

      <!-- Link to previous page -->
      
        
        <a
          href="../guides/configuration_reference/"
          class="md-footer__link md-footer__link--prev"
          aria-label="Previous: Configuration Reference"
          rel="prev"
        >
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Configuration Reference
            </div>
          </div>
        </a>
      

      <!-- Link to next page -->
      
        
        <a
          href="../glossary/"
          class="md-footer__link md-footer__link--next"
          aria-label="Next: Glossary"
          rel="next"
        >
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Glossary
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  


  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56a63758.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
    
  </body>
</html>