
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://ethyca.github.io/fidesops/guides/oauth/">
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.2.5">
    
    
      
        <title>Authenticate with OAuth - Fidesops</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"Source Sans Pro";--md-code-font-family:""}</style>
      
    
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    
      <link rel="stylesheet" href="../../css/fides.css">
    
      <link rel="stylesheet" href="../../css/api.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-authenticate-with-oauth" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fidesops" class="md-header__button md-logo" aria-label="Fidesops" data-md-component="logo">
      
  <img src="../../img/fides-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fidesops
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Authenticate with OAuth
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fidesops" class="md-nav__button md-logo" aria-label="Fidesops" data-md-component="logo">
      
  <img src="../../img/fides-logo.svg" alt="logo">

    </a>
    Fidesops
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        What is Fidesops?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../use_cases/" class="md-nav__link">
        Use Cases
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Tutorial
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        Zero to Privacy Request
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/installation/" class="md-nav__link">
        Installing Fidesops
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/outline/" class="md-nav__link">
        Outlining our Python Script
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/oauth_client/" class="md-nav__link">
        Creating an Oauth Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/postgres_connection/" class="md-nav__link">
        Connecting to Postgres
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/annotate_datasets/" class="md-nav__link">
        Annotating our Database
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/storage_config/" class="md-nav__link">
        Configuring our Storage Destination
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/define_policy/" class="md-nav__link">
        Defining a Policy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/execute_privacy_request/" class="md-nav__link">
        Executing a Privacy Request
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      <label class="md-nav__link" for="__nav_5">
        How-To Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How-To Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How-To Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Authenticate with OAuth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Authenticate with OAuth
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#root-client" class="md-nav__link">
    Root Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-clients" class="md-nav__link">
    Additional Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scopes" class="md-nav__link">
    Scopes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-tokens" class="md-nav__link">
    Access Tokens
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-auth-flow" class="md-nav__link">
    Example Auth Flow
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../database_connectors/" class="md-nav__link">
        Connect SQL and NoSQL Databases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        Configure Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../query_execution/" class="md-nav__link">
        Preview Query Execution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../policies/" class="md-nav__link">
        Create Request Policies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../masking_strategies/" class="md-nav__link">
        Configure Data Masking Strategies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        Configure Storage Destinations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../privacy_requests/" class="md-nav__link">
        Execute Privacy Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../reporting/" class="md-nav__link">
        Report on Privacy Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../onetrust/" class="md-nav__link">
        Configure OneTrust Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../configuration_reference/" class="md-nav__link">
        Configuration Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/" class="md-nav__link">
        Deployment Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/code_style/" class="md-nav__link">
        Code Style
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/pull_requests/" class="md-nav__link">
        Pull Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Community
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../community/github/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../community/code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../ethyca/" class="md-nav__link">
        About Ethyca
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#root-client" class="md-nav__link">
    Root Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-clients" class="md-nav__link">
    Additional Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scopes" class="md-nav__link">
    Scopes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-tokens" class="md-nav__link">
    Access Tokens
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-auth-flow" class="md-nav__link">
    Example Auth Flow
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="how-to-authenticate-with-oauth">How-To: Authenticate with OAuth</h1>
<p>In this section we'll cover:</p>
<ul>
<li>An overview of the Fidesops Oauth flow</li>
<li>How to configure root client credentials</li>
<li>How to create additional oauth clients</li>
<li>Authorization scopes</li>
<li>How to create oauth tokens</li>
<li>Example auth flow</li>
</ul>
<p>Take me directly to <a href="http://0.0.0.0:8080/docs#/OAuth">api docs</a> (you'll need to <code>make server</code> first)</p>
<h2 id="overview">Overview</h2>
<p>Authorization is the process of ensuring that only clients with proper permissions are able to perform specific actions.</p>
<p>Fidesops supports Oauth authentication. Here's how that works:</p>
<ol>
<li>A client pings Fidesops with its unique client id and secret</li>
<li>If both the client id and secret are valid, Fidesops responds with an access token </li>
<li>The client provides that access token on each subsequent request for purposes of authorization</li>
</ol>
<p><img alt="Auth Flow" src="../../img/auth_flow.png" title="Auth Flow" /></p>
<h2 id="configuration">Configuration</h2>
<h3 id="root-client">Root Client</h3>
<p>A root client is provided with each installation of Fides, with credentials that are specified as <code>env</code> variables.</p>
<p>The root client has access to all scopes in the system, thus has the ability to perform any action in the system.</p>
<p>To specify your root client, include the following environment variables:</p>
<ul>
<li>
<p><code>OAUTH_ROOT_CLIENT_ID</code> - This is the client id for root.</p>
</li>
<li>
<p><code>OAUTH_ROOT_CLIENT_SECRET</code> - This is the client secret for root.</p>
</li>
</ul>
<p>Read more about this configuration process in our <a href="../../deployment/">deployment guide</a></p>
<h3 id="additional-clients">Additional Clients</h3>
<p>A client is generated by another client. In order for a client to generate a new client, they must be equipped with the <code>CLIENT:CREATE</code> scope. For example, the root client can always create a new client, since it has access to all scopes.</p>
<p>A properly equipped client can go about generating a new client by posting to the <a href="http://0.0.0.0:8080/docs#/OAuth/create_client_api_v1_oauth_client_post"><code>/oauth/client</code></a> endpoint. The endpoint will respond with the client id / client secret pair associated with the newly created client. This pair will be used by the new client to gain access to the system.</p>
<blockquote>
<p>Word of warning - do note these credentials immediately as they will not be accessible afterwards. Particularly, the client secret is not stored directly on the system and so once it is gone it cannot be recovered.</p>
</blockquote>
<p>Upon creation, the newly generated client does not have any scopes, and cannot perform any meaningful interaction with the system.</p>
<p>Let's learn more about scopes and how to assign scopes to a client.</p>
<h2 id="scopes">Scopes</h2>
<p>Each Fidesops endpoint requires a client to have the appropriate scope for that endpoint.</p>
<p>For example, in order to use the following endpoint, the client must have the scope <code>CLIENT_CREATE</code> associated with it:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    @router.post<span class="o">(</span>CLIENT, <span class="nv">dependencies</span><span class="o">=[</span>Security<span class="o">(</span>scope_verifier, <span class="nv">scopes</span><span class="o">=[</span>CLIENT_CREATE<span class="o">])])</span>
    def create_client<span class="o">(</span>db: <span class="nv">Session</span> <span class="o">=</span> Depends<span class="o">(</span>get_db<span class="o">))</span> -&gt; ClientCreated:
    <span class="s2">&quot;&quot;&quot;Creates a new client and returns the credentials&quot;&quot;&quot;</span>
    <span class="k">return</span> client_management_service.create_client<span class="o">(</span>db<span class="o">)</span>
</code></pre></div>
</td></tr></table>
<p>A client is associated with scopes. We've seen, above, that scopes are what give the client the ability to perform actions against the system. Without scopes, the client cannot do anything.</p>
<p>In order to modify the scopes associated with the client, the calling client must have the <code>CLIENT:UPDATE</code> scope.</p>
<p>To modify a clientâ€™s scope, perform a <code>PUT</code> against the <a href="http://0.0.0.0:8080/docs#/OAuth/set_client_scopes_api_v1_oauth_client__client_id__scope_put"><code>/oauth/client/{client_id}/scope</code></a> endpoint with a list of client scopes as the request body. The client will now be associated with that set of scopes. This will replace existing scopes with the set of scopes provided, so use caution.</p>
<p>To get a list of scopes available to a specific client, perform a GET against the <a href="http://0.0.0.0:8080/docs#/OAuth/read_scopes_api_v1_oauth_scope_get"><code>/oauth/scope</code></a> endpoint.</p>
<p>A full list of all available scopes within Fidesops can be found in <a href="https://github.com/ethyca/solon/blob/main/src/fidesops/api/v1/scope_registry.py"><code>src/fidesops/api/v1/scope_registry.py</code></a>.</p>
<h2 id="access-tokens">Access Tokens</h2>
<p>After a client has been given specific scopes, they should request an access token.</p>
<p>To specify the time that the access token will be alive in minutes, set the following environment variable:</p>
<ul>
<li><code>OAUTH_ACCESS_TOKEN_EXPIRE_MINUTES</code></li>
</ul>
<p>The default value is 11520 minutes or 8 days.</p>
<p>To create an access token for a client, perform a <code>POST</code> against the <a href="http://0.0.0.0:8080/docs#/OAuth/acquire_access_token_api_v1_oauth_token_post"><code>/oauth/token</code></a>,
with the client_id and client_secret as form-encoded data.</p>
<p>Set this bearer token to create other resources in fidesops, by including an <code>Authorization: Bearer &lt;ACCESS_TOKEN&gt;</code> header. </p>
<h2 id="example-auth-flow">Example Auth Flow</h2>
<p>After having configured the root client id and secret, I wish to use the root client to create an additional client.</p>
<p>First, I'll need to obtain my root access token:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>curl -X <span class="s1">&#39;POST&#39;</span> <span class="se">\</span>
  <span class="s1">&#39;http://0.0.0.0:8080/api/v1/oauth/token&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;accept: application/json&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;grant_type=&amp;scope=&amp;client_id=&lt;CLIENT_ID&gt;&amp;client_secret=&lt;CLIENT_SECRET&gt;&#39;</span>
</code></pre></div>
</td></tr></table>
<p>The response will look something like this:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">{</span>
  <span class="s2">&quot;access_token&quot;</span>: <span class="s2">&quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..5e3CF5Y5QglasdhNMiadshFAQ.OQF47Y_IuPoSH3HD5_Ybnd5rAx8uoj3zbKGRu-mfiPrJOzUocpJh64AXKIGLinrSxv_a2Jtr6sMkD5w6kGAbHUu1ytD17Z2V66uC5WA5TJZoI8fEcsFeq6NHt-PDIXnokJkwgDuXD4nsUDH1DyP6xN4iJcBE2yF_cNvJi00WMO39Mk5gS3JhDCgydkErYjiGy3uafZNawxgyBjBttigJRimgkC3J12Sy7luPLjM9gEFS0jmg0KuwZ9f-ebYSHPy7gfyMn03CP90l_W9zAQuNUXC4EfJoMdbe4iaqjic83UXxznKTFvN8CWuzEM32Kz4O9sSUOZBKRPgZ6gwfD3Lr0VOYpuMGWNX4l6lAqUa8xM-dygVOZ1Yt-_pGmsEgQrYInQmFnDj2uij-7gcUyP_HLww0_Mi0U_yzQ67FwntFIn3vNZLO3NSf7ydWQ3aLadQNuJppj-5Q_4xewfYOPiOEBzLI3Jd4LG1poK91yWYRbfV7M6AtSBPlnToCfs58_APU7ngqLyIlrWSQxuNx-FbHKAb5pi1YRfZpUgFeKMQZeVIvbEstaHX3c9j_pQbs255VJSHG22nCP2zoKYtt5C1Mg5o617Z92uhsReapBYbponwWN7Dqiy4-3WyZ6dfhk8euJOZ0ZFlHiey48NZxe4oNBk2tmsBvFrhdLIjKeNwVXhKwS3LPnAdq3Resu6yIHl3KEHp5zuErruOCzmQxZhQcuXPJq7onpA.EcAX36Pmi2lbEM4Xhd9Xlg&quot;</span>
<span class="o">}</span>
</code></pre></div>
</td></tr></table></p>
<p>Next, I can use that access token to create the new client:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>curl -X <span class="s1">&#39;POST&#39;</span> <span class="se">\</span>
  <span class="s1">&#39;http://0.0.0.0:8080/api/v1/oauth/client&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;accept: application/json&#39;</span> <span class="se">\</span>
  -H <span class="s2">&quot;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&quot;</span>
  -d <span class="s1">&#39;&#39;</span>
</code></pre></div>
</td></tr></table>
<p>This client needs scopes added. I'll use the root client to add scopes to the new client, in this example I'll be adding the <code>storage:create</code> and <code>privacy-request:create</code> scopes:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>curl -X <span class="s1">&#39;PUT&#39;</span> <span class="se">\</span>
  <span class="s1">&#39;http://0.0.0.0:8080/api/v1/oauth/client/&lt;client_id&gt;/scope&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;accept: application/json&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
  -H <span class="s2">&quot;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&quot;</span>
  -d <span class="s1">&#39;[&#39;</span>storage:create<span class="s1">&#39;, &#39;</span>privacy-request:create<span class="s1">&#39;]&#39;</span>
</code></pre></div>
</td></tr></table>
<p>Now the client should create an access token which will allow them to perform actions with their allowed scopes.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>curl -X <span class="s1">&#39;POST&#39;</span> <span class="se">\</span>
  <span class="s1">&#39;http://0.0.0.0:8080/api/v1/oauth/token&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;accept: application/json&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;grant_type=&amp;scope=&amp;client_id=&lt;CLIENT_ID&gt;&amp;client_secret=&lt;CLIENT_SECRET&gt;&#39;</span>
</code></pre></div>
</td></tr></table>
<p>That's it! Now this new client can use their token to create storage destinations and privacy requests in Fidesops.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <nav
      class="md-footer__inner md-grid"
      aria-label="Footer"
    >

      <!-- Link to previous page -->
      
        
        <a
          href="../../glossary/"
          class="md-footer__link md-footer__link--prev"
          aria-label="Previous: Glossary"
          rel="prev"
        >
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Glossary
            </div>
          </div>
        </a>
      

      <!-- Link to next page -->
      
        
        <a
          href="../database_connectors/"
          class="md-footer__link md-footer__link--next"
          aria-label="Next: Connect SQL and NoSQL Databases"
          rel="next"
        >
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Connect SQL and NoSQL Databases
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  


  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56a63758.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
    
  </body>
</html>